<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>christmas | ç‚¹å‡»é€ç¥ç¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(to bottom, #0a1a2a, #0c2b3e);
            color: #fff;
            min-height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            cursor: pointer;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            z-index: 10;
        }
        h1 {
            color: #4adeff;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #0077ff;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
        }
        .subtitle {
            color: #a5e9ff;
            font-size: clamp(1rem, 3vw, 1.2rem);
        }
        .scene {
            position: relative;
            width: 300px;
            height: 500px;
            margin: 20px auto;
        }
        /* æ ‘çš„ä¸»ä½“ - ç”¨é”¥å½¢æ¸å˜åˆ¶ä½œ */
        .tree {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-bottom: 320px solid #0a5c36;
            z-index: 1;
        }
        .tree::after {
            content: '';
            position: absolute;
            bottom: -320px;
            left: -100px;
            width: 0;
            height: 0;
            border-left: 100px solid transparent;
            border-right: 100px solid transparent;
            border-bottom: 320px solid rgba(10, 92, 54, 0.7);
            filter: blur(8px);
            z-index: 0;
        }
        /* æ ‘å¹² */
        .trunk {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 60px;
            background: linear-gradient(to right, #7a5230, #8B4513, #7a5230);
            border-radius: 5px;
            z-index: 2;
        }
        /* èºæ—‹å…‰å¸¦ - æ ¸å¿ƒæ•ˆæœ */
        .light-band {
            position: absolute;
            bottom: 60px;
            left: 50%;
            border-radius: 50%;
            border: 3px dotted;
            transform: translateX(-50%) rotateX(70deg);
            animation: spin linear infinite;
            z-index: 3;
            pointer-events: none;
            opacity: 0.9;
        }
        /* ä¸åŒå¤§å°å’Œé¢œè‰²çš„å…‰å¸¦ï¼Œå½¢æˆèºæ—‹ */
        .band1 {
            width: 50px;
            height: 120px;
            border-color: #ff4d8d;
            animation-duration: 6s;
            box-shadow: 0 0 15px #ff4d8d;
        }
        .band2 {
            width: 90px;
            height: 180px;
            border-color: #4dffea;
            animation-duration: 8s;
            animation-direction: reverse;
            box-shadow: 0 0 15px #4dffea;
        }
        .band3 {
            width: 130px;
            height: 240px;
            border-color: #ffcc4d;
            animation-duration: 10s;
            box-shadow: 0 0 15px #ffcc4d;
        }
        .band4 {
            width: 170px;
            height: 300px;
            border-color: #9d4dff;
            animation-duration: 12s;
            animation-direction: reverse;
            box-shadow: 0 0 15px #9d4dff;
        }
        /* å…‰å¸¦æ—‹è½¬åŠ¨ç”» */
        @keyframes spin {
            from { transform: translateX(-50%) rotateX(70deg) rotate(0deg); }
            to { transform: translateX(-50%) rotateX(70deg) rotate(360deg); }
        }
        /* æ ‘é¡¶æ˜Ÿæ˜Ÿ */
        .star {
            position: absolute;
            top: 130px;
            left: 50%;
            transform: translateX(-50%);
            color: gold;
            font-size: 3rem;
            text-shadow: 0 0 20px orange;
            z-index: 4;
            animation: twinkle 2s ease-in-out infinite alternate;
        }
        @keyframes twinkle {
            from { opacity: 0.7; transform: translateX(-50%) scale(0.9); }
            to { opacity: 1; transform: translateX(-50%) scale(1.1); }
        }
        /* ç¥ç¦è¯­å¼¹å‡ºæ•ˆæœ */
        .blessing {
            position: absolute;
            color: #ffeb3b;
            font-size: 1.8rem;
            font-weight: bold;
            pointer-events: none;
            z-index: 100;
            text-shadow: 2px 2px 4px #000;
            white-space: nowrap;
            animation: floatUp 2s forwards ease-out;
            max-width: 90vw;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.2);
            }
        }
        /* é›ªèŠ± */
        .snowflake {
            position: absolute;
            top: -10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.9;
            filter: blur(0.5px);
        }
        /* æ“ä½œæç¤º */
        .instructions {
            text-align: center;
            margin-top: 40px;
            color: #87ceeb;
            font-size: 1rem;
            line-height: 1.5;
            z-index: 10;
            background: rgba(0, 30, 60, 0.5);
            padding: 15px;
            border-radius: 10px;
            max-width: 500px;
        }
        .instructions p {
            margin: 8px 0;
        }
        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 600px) {
            .scene {
                width: 250px;
                height: 420px;
            }
            .tree {
                border-left-width: 80px;
                border-right-width: 80px;
                border-bottom-width: 260px;
            }
            .tree::after {
                border-left-width: 80px;
                border-right-width: 80px;
                border-bottom-width: 260px;
                bottom: -260px;
                left: -80px;
            }
            .star {
                top: 110px;
                font-size: 2.5rem;
            }
            .blessing {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>âœ¨ èºæ—‹å…‰å¸¦åœ£è¯æ ‘ âœ¨</h1>
        <p class="subtitle">ç‚¹å‡»å±å¹•æˆ–è½»è§¦æ ‘èº«ï¼Œæ”¶è·åœ£è¯ç¥ç¦</p>
    </div>

    <div class="scene">
        <!-- é›ªèŠ±ç”±JSåŠ¨æ€ç”Ÿæˆ -->
        <!-- åœ£è¯æ ‘ -->
        <div class="tree"></div>
        <div class="trunk"></div>
        <!-- èºæ—‹å…‰å¸¦ -->
        <div class="light-band band1"></div>
        <div class="light-band band2"></div>
        <div class="light-band band3"></div>
        <div class="light-band band4"></div>
        <!-- æ ‘é¡¶æ˜Ÿæ˜Ÿ -->
        <div class="star">â˜…</div>
        <!-- ç¥ç¦è¯­ç”±JSåŠ¨æ€ç”Ÿæˆ -->
    </div>

    <div class="instructions">
        <p>ğŸ’¡ <strong>å¦‚ä½•äº’åŠ¨ï¼š</strong></p>
        <p>Â· åœ¨å±å¹•ä»»æ„ä½ç½®<strong>ç‚¹å‡»é¼ æ ‡</strong>æˆ–<strong>è§¦æ‘¸</strong>ï¼Œä¼šå¼¹å‡ºéšæœºç¥ç¦è¯­</p>
        <p>Â· ç¥ç¦è¯­ä¼šä»ä½ ç‚¹å‡»çš„ä½ç½®å‘ä¸Šé£˜å‡º</p>
        <p>Â· é¡µé¢å·²é€‚é…æ‰‹æœºï¼Œå¯ç›´æ¥åˆ†äº«é“¾æ¥ç»™æœ‹å‹</p>
    </div>

    <script>
        // ç¥ç¦è¯­åº“
        const blessings = [
            "ğŸ„ åœ£è¯å¿«ä¹ï¼",
            "â¤ï¸ å¹³å®‰å–œä¹",
            "ğŸŒŸ å¿ƒæƒ³äº‹æˆ",
            "ğŸ å¥½è¿å¸¸ä¼´",
            "âœ¨ å¹¸ç¦å®‰åº·",
            "ğŸ¦Œ é“ƒå„¿å“å®å½“",
            "ğŸ… åœ£è¯è€äººæ¥äº†ï¼",
            "ğŸ”” é’Ÿå£°é€ç¦éŸ³",
            "ğŸ å¹³å¹³å®‰å®‰",
            "â„ï¸ å†°é›ªèªæ˜",
            "ğŸ•¯ï¸ æ¸©æš–ä¸€å†¬",
            "â˜ƒï¸ å†¬æ—¥å¯çˆ±"
        ];

        // 1. ç”Ÿæˆé›ªèŠ±
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.className = 'snowflake';
            
            // éšæœºå¤§å° (3px åˆ° 8px)
            const size = Math.random() * 5 + 3;
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;
            
            // éšæœºèµ·å§‹ä½ç½®
            snowflake.style.left = `${Math.random() * 100}vw`;
            
            // éšæœºé€æ˜åº¦
            snowflake.style.opacity = Math.random() * 0.6 + 0.4;
            
            // éšæœºåŠ¨ç”»æ—¶é•¿å’Œé£˜è½è·¯å¾„
            const duration = Math.random() * 8 + 7;
            const sway = Math.random() * 50 - 25; // å·¦å³é£˜åŠ¨å¹…åº¦
            
            snowflake.style.animation = `fall ${duration}s linear infinite`;
            
            // åŠ¨æ€æ·»åŠ é£˜è½åŠ¨ç”»
            const styleSheet = document.styleSheets[0];
            const rule = `@keyframes fall {
                to { 
                    transform: translateY(100vh) translateX(${sway}px) rotate(360deg); 
                    opacity: 0;
                }
            }`;
            
            // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨è¿™ä¸ªkeyframesï¼Œé¿å…é‡å¤æ·»åŠ 
            if (!document.querySelector('style#snow-anim')) {
                const style = document.createElement('style');
                style.id = 'snow-anim';
                document.head.appendChild(style);
            }
            document.querySelector('style#snow-anim').textContent = rule;
            
            document.body.appendChild(snowflake);
            
            // é›ªèŠ±è½åœ°åç§»é™¤ï¼Œé˜²æ­¢DOMå…ƒç´ è¿‡å¤š
            setTimeout(() => {
                if (snowflake.parentNode) {
                    snowflake.remove();
                }
            }, duration * 1000);
        }

        // åˆå§‹åŒ–é›ªèŠ±
        for (let i = 0; i < 50; i++) {
            setTimeout(() => createSnowflake(), Math.random() * 3000);
        }
        // æŒç»­ç”Ÿæˆé›ªèŠ±
        setInterval(createSnowflake, 500);

        // 2. ç‚¹å‡»å¼¹å‡ºç¥ç¦è¯­
        document.addEventListener('click', function(e) {
            createBlessing(e.clientX, e.clientY);
        });
        
        // ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶
        document.addEventListener('touchstart', function(e) {
            // é˜»æ­¢è§¦æ‘¸åçš„é¼ æ ‡äº‹ä»¶ï¼Œé¿å…è§¦å‘ä¸¤æ¬¡
            e.preventDefault();
            const touch = e.touches[0];
            createBlessing(touch.clientX, touch.clientY);
        }, { passive: false });

        function createBlessing(x, y) {
            const blessing = document.createElement('div');
            blessing.className = 'blessing';
            
            // éšæœºé€‰æ‹©ä¸€æ¡ç¥ç¦è¯­
            blessing.textContent = blessings[Math.floor(Math.random() * blessings.length)];
            
            // è®¾ç½®ä½ç½®ä¸ºç‚¹å‡»å¤„
            blessing.style.left = `${x}px`;
            blessing.style.top = `${y}px`;
            
            document.body.appendChild(blessing);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(() => {
                if (blessing.parentNode) {
                    blessing.remove();
                }
            }, 2000);
            
            // åŒæ—¶è®©å…‰å¸¦é—ªçƒä¸€ä¸‹ä½œä¸ºåé¦ˆ
            const bands = document.querySelectorAll('.light-band');
            bands.forEach(band => {
                const originalOpacity = band.style.opacity;
                band.style.opacity = '1';
                setTimeout(() => {
                    band.style.opacity = originalOpacity || '0.9';
                }, 300);
            });
        }

        // 3. é¡µé¢åŠ è½½åæ˜¾ç¤ºæ¬¢è¿ç¥ç¦
        window.addEventListener('load', function() {
            setTimeout(() => {
                // åœ¨å±å¹•ä¸­å¤®åä¸‹ä½ç½®æ˜¾ç¤ºä¸€ä¸ªæ¬¢è¿ç¥ç¦
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2 + 50;
                createBlessing(centerX, centerY);
            }, 1000);
        });

        // 4. é˜²æ­¢æ»šåŠ¨ï¼ˆç§»åŠ¨ç«¯ï¼‰
        document.addEventListener('touchmove', function(e) {
            // å…è®¸åœ¨æç¤ºæ¡†å†…æ»šåŠ¨
            if (e.target.closest('.instructions')) {
                return;
            }
            e.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>
